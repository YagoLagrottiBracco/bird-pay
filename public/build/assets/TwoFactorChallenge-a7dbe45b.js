import{r as d,T as w,o as r,a as f,w as l,b as o,u as s,n as v,d as b,e as k,c as n,f as i,F as u,Z as $,k as P}from"./app-2aacb4bb.js";import{L as T}from"./LayoutGuest-6ed102d1.js";import{_ as h}from"./SectionFullScreen-7ed9f1d9.js";import{_ as B}from"./CardBox-11b0b821.js";import{_ as g}from"./FormControl-f367db94.js";import{_ as p}from"./FormField-f6ccc884.js";import{_ as R}from"./BaseDivider-53a19247.js";import{_ as S}from"./BaseButton-742e1aed.js";import{_ as U}from"./FormValidationErrors-27d78030.js";import{_ as F}from"./BaseLevel-33752515.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./colors-9bb9d49f.js";import"./BaseIcon-76c66cd9.js";import"./NotificationBarInCard-d9fa4614.js";const L={class:"mb-4 text-sm text-gray-600"},N=["onClick"],W={__name:"TwoFactorChallenge",setup(I){const c=d(!1),t=w({code:"",recovery_code:""}),_=d(null),y=d(null),x=async()=>{var m,e;c.value^=!0,await P(),c.value?((m=_.value)==null||m.focus(),t.code=""):((e=y.value)==null||e.focus(),t.recovery_code="")},C=()=>{t.post(route("two-factor.login"))};return(m,e)=>(r(),f(T,null,{default:l(()=>[o(s($),{title:"Two-factor Confirmation"}),o(h,{bg:"purplePink"},{default:l(({cardClass:V})=>[o(B,{class:v(V),"is-form":"",onSubmit:b(C,["prevent"])},{default:l(()=>[o(U),o(p,null,{default:l(()=>[k("div",L,[c.value?(r(),n(u,{key:1},[i(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(r(),n(u,{key:0},[i(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))])]),_:1}),c.value?(r(),f(p,{key:1,label:"Recovery Code","label-for":"recovery_code",help:"Please enter recovery code"},{default:l(()=>[o(g,{id:"recovery_code",onSetRef:e[2]||(e[2]=a=>_.value=a),modelValue:s(t).recovery_code,"onUpdate:modelValue":e[3]||(e[3]=a=>s(t).recovery_code=a),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"])]),_:1})):(r(),f(p,{key:0,label:"Code","label-for":"code",help:"Please enter one-time code"},{default:l(()=>[o(g,{id:"code",onSetRef:e[0]||(e[0]=a=>y.value=a),modelValue:s(t).code,"onUpdate:modelValue":e[1]||(e[1]=a=>s(t).code=a),type:"text",inputmode:"numeric",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"])]),_:1})),o(R),o(F,null,{default:l(()=>[o(S,{type:"submit",color:"info",label:"Log in",class:v({"opacity-25":s(t).processing}),disabled:s(t).processing},null,8,["class","disabled"]),k("button",{onClick:b(x,["prevent"])},[c.value?(r(),n(u,{key:1},[i(" Use an authentication code ")],64)):(r(),n(u,{key:0},[i(" Use a recovery code ")],64))],8,N)]),_:1})]),_:2},1032,["class","onSubmit"])]),_:1})]),_:1}))}};export{W as default};
